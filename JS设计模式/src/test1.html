<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>1</title>
</head>
<body>
<div id="div1">
  <a href="#">a1</a>
  <a href="#">a2</a>
  <a href="#">a3</a>
  <a href="#">a4</a>
  <a href="#">a5</a>
</div>
<script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
<script>
  // let div1 = document.getElementById('div1');
  // div1.addEventListener('click',function (event) {
  //   let target = event.target;
  //   if (target.nodeName === 'A') {
  //     console.log(target.innerHTML);
  //   }
  // })

  //$.proxy 方法接受一个已有的函数，并返回一个带特定上下文的新的函数。

  $("#div1").click(function () {
    var fn = function() {
      console.log(this);
      $(this).css('background-color','red');
    }
    fn = $.proxy(fn,this);
    setTimeout(fn,0)
  })

  var callbacks = $.Callbacks();//注意大小写
  callbacks.add(function (info) {
    console.log('fn1',info);
  })
  callbacks.add(function (info) {
    console.log('fn2',info);
  })
  callbacks.add(function (info) {
    console.log('fn3',info);
  })
  //触发
  callbacks.fire('hello')
</script>
</body>
</html>
